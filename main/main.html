<ng-include src="'main/header.html'"></ng-include>

<section id="cta">
     <h1>
          <a href="#/landing"><span class="first-logo-color">factor</span><strong>B</strong></a>
     </h1>
     <h2>Инструкция</h2>

     <!--
     <h3>Используйте только для тестовых денежных транзакций</h3>
     -->
     <div class="instruction-text">
          <p>1 - Сформируйте исходный файл со столбцами: <strong>НомерДокумента, ИНН1, ИНН2, Дата, Сумма</strong>.</p>
     </div>

     <h3>Формат данных:</h3>
     <br>
     <div class="row uniform 100% hash-example-block">
          <div class="6u 12u(mobilep) example-first-column">
               <p>Кодировка файла</p>
          </div>
          <div class="6u 12u(mobilep) example-second-column">
               <p>UTF8</p>
          </div>
     </div>

     <div class="row uniform 100% hash-example-block">
          <div class="6u 12u(mobilep) example-first-column">
               <p>НомерДокумента</p>
          </div>
          <div class="6u 12u(mobilep) example-second-column">
               <p>Только цифры, латинские буквы, кириллические символы</p>
          </div>
     </div>

     <div class="row uniform 100% hash-example-block">
          <div class="6u 12u(mobilep) example-first-column">
               <p>ИНН1 - ИНН продавца по товарной накладной</p>
          </div>
          <div class="6u 12u(mobilep) example-second-column">
               <p>8 или 10 цифр без пробелов</p>
          </div>
     </div>

     <div class="row uniform 100% hash-example-block">
          <div class="6u 12u(mobilep) example-first-column">
               <p>ИНН2 - ИНН плательщика по товарной накладной</p>
          </div>
          <div class="6u 12u(mobilep) example-second-column">
               <p>8 или 10 цифр без пробелов</p>
          </div>
     </div>

     <div class="row uniform 100% hash-example-block">
          <div class="6u 12u(mobilep) example-first-column">
               <p>Дата</p>
          </div>
          <div class="6u 12u(mobilep) example-second-column">
               <p>Дата в формате 01.12.2016</p>
          </div>
     </div>

     <div class="row uniform 100% hash-example-block">
          <div class="6u 12u(mobilep) example-first-column">
               <p>Сумма</p>
          </div>
          <div class="6u 12u(mobilep) example-second-column">
               <p>Всего по накладной, сумма с учетом НДС; Числовой формат, без делителя разрядов и с двумя цифрами после запятой (копейки)</p>
          </div>
     </div>
     <br>

     <div class="instruction-text">
          <p>2 - Объедините поля следующим образом: НомерДокумента+ИНН1+ИНН2+Дата+Сумма (без пробелов).<br>Порядок данных критичен!</p>
          <p>3 - Посчитайте SHA256 хэш для полученной строки. Excel файл с примером (см. ниже) содержит VBA-функцию SHA256function. </p>
          <p>4 - Скопируйте полученный столбец с SHA256 хэшами в отдельный файл формата CSV (каждый хэш с отдельной строки). Все остальные (исходные) данные не должны быть представлены в этом файле, чтобы избежать их раскрытие.</p>
          <p>5 - Загрузите полученный файл в нашу систему.</p>
          <p>6 - Через некоторое время вы получите отчет на указанный e-mail адрес.</p>

          <hr>

          <p>Пример Excel файла: <a href="main/example.xls">здесь</a></p>
          <p>Пример Полученного файла: <a href="main/out.csv">здесь</a></p>
     </div>

     <p ng-if="errMsg.length" class="err-msg">{{errMsg}}</p>
     <p>
          <a ng-if="txLink.length" href="{{txLink}}" class="tx-info-link" target="_blank">Transaction info</a>
     </p>

     <h2>Загрузка</h2>
     <form>
          <div class="row uniform 75%">
               <!--
               <div id="input-div" class="12u 12u(mobilep)">
                    <input 
                         type="text" 
                         name="fk1" 
                         id="fk1" 
                         ng-model="fkName" 
                         placeholder="Название факторинговой компании" 
                         autofocus/>

                    <input 
                         type="text" 
                         name="inn1" 
                         id="inn1" 
                         ng-model="inn1" 
                         ng-change="onChange()"
                         placeholder="Инн1 (8/10 цифр)" 
                         valid-number/>

                    <input 
                         type="text" 
                         name="inn2" 
                         id="inn2" 
                         ng-model="inn2" 
                         ng-change="onChange()"
                         placeholder="Инн2 (8/10 цифр)" 
                         valid-number/>

                    <input 
                         type="text" 
                         name="date1" 
                         id="date1" 
                         ng-model="date" 
                         ng-change="onChange()"
                         placeholder="Дата"/>

                    <input 
                         type="text" 
                         name="amount1" 
                         id="amount1" 
                         ng-model="amount" 
                         ng-change="onChange()"
                         placeholder="Сумма" 
                         valid-number/>
               </div>

               <p class="hash-value" style="padding-left: 0px; margin-bottom: 1em;">{{hash}}</p>
               -->

               <div id="input-div" class="12u 12u(mobilep)">
                    <!--<p>Мы пришлем отчет на указанный e-mail:</p>-->

                    <input 
                         type="email" 
                         name="fk1" 
                         id="fk1" 
                         ng-model="userEmail" 
                         ng-disabled="isUploading"
                         placeholder="Ваш e-mail"/>
               </div>

               <div class="12u 12u(mobilep)">
                    <button 
                         type="submit" 
                         class="button fit main-button"
                         ng-disabled="!userEmail || isUploading"
                         ngf-select 
                         ngf-change="upload($files,$index)" 
                         ngf-multiple="false" 
                         ngf-accept="'text/csv'">
                         <span>
                              <i class="fa fa-file"></i>
                         </span>
                         <span>Загрузить файл</span>
                    </button>
               </div>
          </div>
     </form>
</section>

<script type="text/ng-template" id="uploadCompleteDlg">
     <div class="ngdialog-content">
          <p>Загрузка завершена успешно!</p>
     </div>
     <div class="ngdialog-buttons">
          <button type="button" class="action-btn" ng-click="onOk()">Ок</button>
     </div>
</script>

<ng-include src="'main/footer.html'"></ng-include>

